{% extends "single_cell_analysis/base.html" %}

{% block content %}
<h2>UMAP Visualization</h2>

{% if error %}
  <p style="color: red;">{{ error }}</p>
{% else %}
  <p><strong>File:</strong> {{ filename }}</p>

  <form method="get">
    {{ form.as_p }}
    <button type="submit">UMAP Plot</button>
  </form>

  <img src="{{ plot_path }}" alt="UMAP Plot" style="margin-top: 20px; max-width: 100%; height: auto;" />

  <p>
    <a href="{% url 'download_metadata' %}">Download Metadata</a>
    <a href="{% url 'gene_umap' %}">Explore Gene Expression on UMAP</a> |
    <a href="{% url 'upload_h5ad' %}">Upload Another File</a>
  </p>
{% endif %}
{% endblock %}
